[gd_scene load_steps=32 format=2]

[ext_resource path="res://Assets/World/TileMap.png" type="Texture" id=1]
[ext_resource path="res://Assets/Characters/Player.png" type="Texture" id=2]
[ext_resource path="res://Player.gd" type="Script" id=3]
[ext_resource path="res://Crate.tscn" type="PackedScene" id=4]
[ext_resource path="res://win.gd" type="Script" id=5]
[ext_resource path="res://Enemy.tscn" type="PackedScene" id=6]
[ext_resource path="res://gameover.gd" type="Script" id=7]
[ext_resource path="res://Coin.tscn" type="PackedScene" id=8]

[sub_resource type="ConvexPolygonShape2D" id=1]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=2]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=3]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=4]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=5]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=6]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=7]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=8]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=9]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=10]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=11]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=12]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=13]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=14]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=15]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=16]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="TileSet" id=17]
0/name = "TileMap.png 0"
0/texture = ExtResource( 1 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 0, 0, 64, 64 )
0/tile_mode = 2
0/autotile/icon_coordinate = Vector2( 0, 0 )
0/autotile/tile_size = Vector2( 16, 16 )
0/autotile/spacing = 0
0/autotile/occluder_map = [  ]
0/autotile/navpoly_map = [  ]
0/autotile/priority_map = [  ]
0/autotile/z_index_map = [  ]
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape = SubResource( 1 )
0/shape_one_way = false
0/shape_one_way_margin = 1.0
0/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 1 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 1 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 2 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 2 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 3 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 3 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 4 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 1, 1 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 5 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 1, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 6 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 1, 2 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 7 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 1, 3 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 8 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 2, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 9 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 2, 1 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 10 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 2, 2 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 11 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 2, 3 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 12 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 3, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 13 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 3, 1 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 14 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 3, 2 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 15 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 3, 3 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 16 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
0/z_index = 0

[sub_resource type="RectangleShape2D" id=18]
extents = Vector2( 6.33166, 8.89275 )

[sub_resource type="Animation" id=19]
length = 0.1
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ 0 ]
}

[sub_resource type="Animation" id=20]
length = 0.1
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ 6 ]
}

[sub_resource type="Animation" id=21]
length = 0.6
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3, 0.4, 0.5 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 1, 2, 3, 4, 5, 0 ]
}

[sub_resource type="RectangleShape2D" id=22]
extents = Vector2( 7.07021, 10.7124 )

[sub_resource type="RectangleShape2D" id=23]
extents = Vector2( 6.97745, 1.6278 )

[node name="Game" type="Node2D" groups=[
"bodies",
]]
position = Vector2( -71.0709, 21.1777 )

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2( 109.338, 78.2971 )
current = true

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource( 17 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( 19, 536870912, 0, 65555, 536870912, 0, 131091, 536870912, 0, 196627, 536870912, 0, 327679, 0, 0, 262155, 0, 0, 262163, 536870912, 0, 393212, 0, 0, 327699, 536870912, 0, 458746, 0, 0, 458747, 0, 0, 393222, 0, 0, 393235, 536870912, 0, 524281, 0, 0, 524285, 0, 0, 458756, 0, 0, 458771, 536870912, 0, 589817, 0, 0, 589821, 0, 0, 524292, 0, 0, 524307, 536870912, 0, 655351, 536870912, 0, 655352, 536870912, 0, 655353, 536870912, 0, 655354, 536870912, 0, 655355, 536870912, 0, 655356, 536870912, 0, 655357, 536870912, 0, 655358, 536870912, 0, 655359, 536870912, 0, 589824, 536870912, 0, 589825, 536870912, 0, 589826, 536870912, 0, 589827, 536870912, 0, 589828, 536870912, 0, 589829, 536870912, 0, 589830, 536870912, 0, 589831, 536870912, 0, 589832, 536870912, 0, 589833, 536870912, 0, 589834, 536870912, 0, 589835, 536870912, 0, 589836, 536870912, 0, 589837, 536870912, 0, 589838, 536870912, 0, 589839, 536870912, 0, 589840, 536870912, 0, 589841, 536870912, 0, 589842, 536870912, 0, 589843, 536870912, 0, 720887, 536870912, 65537, 720888, 536870912, 65537, 720889, 536870912, 65537, 720890, 536870912, 65537, 720891, 536870912, 65537, 720892, 536870912, 65537, 720893, 536870912, 65537, 720894, 536870912, 65537, 720895, 536870912, 65537, 655360, 536870912, 65537, 655361, 536870912, 65537, 655362, 536870912, 65537, 655363, 536870912, 65537, 655364, 536870912, 65537, 655365, 536870912, 65537, 655366, 536870912, 65537, 655367, 536870912, 65537, 655368, 536870912, 65537, 655369, 536870912, 65537, 655370, 536870912, 65537, 655371, 536870912, 65537, 655372, 536870912, 65537, 655373, 536870912, 65537, 655374, 536870912, 65537, 655375, 536870912, 65537, 655376, 536870912, 65537, 655377, 536870912, 65537, 655378, 536870912, 65537, 655379, 536870912, 0 )

[node name="Coin" parent="." instance=ExtResource( 8 )]
position = Vector2( 90.0949, 31.5871 )

[node name="Player" type="KinematicBody2D" parent="."]
position = Vector2( 109.338, 78.2971 )
collision_layer = 2
script = ExtResource( 3 )
max_speed = 120

[node name="Sprite" type="Sprite" parent="Player"]
texture = ExtResource( 2 )
hframes = 7

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
position = Vector2( 0.546654, 0.859025 )
shape = SubResource( 18 )

[node name="Player Animation" type="AnimationPlayer" parent="Player"]
anims/Idle = SubResource( 19 )
anims/Jump = SubResource( 20 )
anims/Run = SubResource( 21 )

[node name="Hurtbox" type="Area2D" parent="Player"]
position = Vector2( 0.409, 0 )
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/Hurtbox"]
rotation = 0.00311223
shape = SubResource( 22 )

[node name="Player HP" type="Label" parent="Player"]
margin_left = -156.122
margin_top = -85.3147
margin_right = -116.122
margin_bottom = -71.3147
text = "5 hp"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Player Score" type="Label" parent="Player"]
margin_left = -156.123
margin_top = -71.1532
margin_right = -104.123
margin_bottom = -57.1532
text = "0 points"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Camera Follow" type="RemoteTransform2D" parent="Player"]
remote_path = NodePath("../../Camera2D")

[node name="Hitbox" type="Area2D" parent="Player"]
collision_layer = 0
collision_mask = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/Hitbox"]
position = Vector2( 0.787453, 10.0794 )
shape = SubResource( 23 )

[node name="Crate" parent="." instance=ExtResource( 4 )]

[node name="Enemy" parent="." instance=ExtResource( 6 )]

[node name="Enemy3" parent="." instance=ExtResource( 6 )]
position = Vector2( 7.37935, 125.143 )

[node name="Enemy2" parent="." instance=ExtResource( 6 )]
position = Vector2( -79.4555, 84.689 )

[node name="Endgame" type="CanvasLayer" parent="."]

[node name="gameover" type="Control" parent="Endgame"]
margin_right = 40.0
margin_bottom = 40.0
script = ExtResource( 7 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect" type="ColorRect" parent="Endgame/gameover"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_right = 280.0
margin_bottom = 141.0
color = Color( 0, 0, 0, 1 )

[node name="Label" type="Label" parent="Endgame/gameover"]
margin_left = 111.808
margin_top = 69.4901
margin_right = 151.808
margin_bottom = 83.4901
text = "you lose, loser"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="win" type="Control" parent="Endgame"]
margin_right = 40.0
margin_bottom = 40.0
script = ExtResource( 5 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect" type="ColorRect" parent="Endgame/win"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_right = 279.0
margin_bottom = 142.0
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Endgame/win"]
margin_left = 65.9265
margin_top = 70.381
margin_right = 173.927
margin_bottom = 84.381
text = "ur cracked, u win"
__meta__ = {
"_edit_use_anchors_": false
}

[connection signal="gameover" from="Player" to="Endgame/gameover" method="_on_Player_gameover"]
[connection signal="area_entered" from="Player/Hurtbox" to="Player" method="_on_Hurtbox_area_entered"]
[connection signal="area_entered" from="Player/Hitbox" to="Player" method="_on_Hitbox_area_entered"]
